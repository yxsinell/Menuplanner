<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lozano's Food - MenÃº Semanal</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        textarea {
            resize: none;
            width: 100%;
            min-height: 120px; /* AumentÃ© la altura */
            padding: 10px;
            font-size: 1rem;
            overflow: hidden;
        }
        body {
            background-image: linear-gradient(to bottom right, #f9fafb, #d1fae5);
        }
        .shopping-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }
        .shopping-item input[type="checkbox"] {
            margin-right: 10px;
            width: 20px;
            height: 20px;
        }
        #shoppingList {
            max-height: none;
            overflow: visible;
        }
        .fun-title {
            font-family: 'Comic Sans MS', cursive, sans-serif; /* Fuente mÃ¡s divertida */
            color: #2d3748; /* Color mÃ¡s amigable */
        }
    </style>
</head>
<body class="bg-green-50">
    <div class="container mx-auto p-4">
        <h1 class="text-5xl fun-title text-center mb-8">Lozano's Food ğŸ½ï¸</h1>

        <div class="mb-4 text-center flex flex-col sm:flex-row justify-center items-center gap-4">
            <button id="generateBtn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">Generar sugerencias saludables ğŸ</button>
            <button id="clearBtn" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded">Limpiar todo âŒ</button>
            <button id="printBtn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">Imprimir menÃº y lista de la compra ğŸ–¨ï¸</button>
        </div>

        <div class="overflow-x-auto">
            <table class="table-auto w-full border-collapse border border-gray-400 mb-8">
                <thead>
                    <tr class="bg-green-200">
                        <th class="border border-gray-300 px-4 py-2">Comida/DÃ­a</th>
                        <th class="border border-gray-300 px-4 py-2">Lunes</th>
                        <th class="border border-gray-300 px-4 py-2">Martes</th>
                        <th class="border border-gray-300 px-4 py-2">MiÃ©rcoles</th>
                        <th class="border border-gray-300 px-4 py-2">Jueves</th>
                        <th class="border border-gray-300 px-4 py-2">Viernes</th>
                        <th class="border border-gray-300 px-4 py-2">SÃ¡bado</th>
                        <th class="border border-gray-300 px-4 py-2">Domingo</th>
                    </tr>
                </thead>
                <tbody id="menuTable">
                    <tr>
                        <td class="border border-gray-300 px-4 py-2 text-center bg-yellow-100">Desayuno ğŸ¥</td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                    </tr>
                    <tr>
                        <td class="border border-gray-300 px-4 py-2 text-center bg-yellow-100">Comida ğŸ½ï¸</td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                    </tr>
                    <tr>
                        <td class="border border-gray-300 px-4 py-2 text-center bg-yellow-100">Merienda ğŸª</td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                    </tr>
                    <tr>
                        <td class="border border-gray-300 px-4 py-2 text-center bg-yellow-100">Cena ğŸŒ™</td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                        <td><textarea readonly></textarea></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="mt-8">
            <h2 class="text-3xl font-bold mb-4 text-green-700">Lista de la compra ğŸ›’</h2>
            <div id="shoppingList" class="w-full border border-gray-300 rounded-md p-2"></div>
        </div>

        <script>
            const suggestions = {
                desayuno: [
                    "Arepas con queso y jamÃ³n",
                    "Tostadas con tomate y aceite de oliva",
                    "Smoothie de frutas tropicales",
                    "Empanadas venezolanas",
                    "Cereal con leche",
                    "Tortilla espaÃ±ola",
                    "Pan con aguacate ğŸ¥‘",
                    "Huevos revueltos con arepas",
                    "Yogur con frutas y miel ğŸ¯",
                    "Batido de fresas ğŸ“",
                    "Pancakes con sirope de arce ğŸ¥",
                    "CafÃ© con leche y tostadas â˜•"
                ],
                comida: [
                    "PabellÃ³n criollo",
                    "Arroz a la cubana",
                    "Pollo al horno con papas",
                    "Lentejas con arroz ğŸš",
                    "Pollo guisado",
                    "Pasta con atÃºn",
                    "Ensalada mixta ğŸ¥—",
                    "Sancocho venezolano",
                    "FideuÃ¡ de marisco ğŸ¤",
                    "Carne mechada con arroz",
                    "Guiso de garbanzos",
                    "Pescado al horno con verduras ğŸŸ"
                ],
                merienda: [
                    "Frutas frescas (mango, plÃ¡tano, manzana)",
                    "Nueces y almendras",
                    "Galletas de avena",
                    "Yogur con granola",
                    "Tostadas con mermelada",
                    "Arepitas dulces",
                    "Batido de frutas",
                    "Barra de cereal",
                    "Palitos de zanahoria con hummus ğŸ¥•",
                    "Smoothie verde ğŸ",
                    "Churros con chocolate ğŸ«",
                    "Queso fresco con miel"
                ],
                cena: [
                    "Sopa de pollo con fideos",
                    "Tortilla de patatas",
                    "Arepas rellenas de pollo",
                    "Ensalada de atÃºn",
                    "Sandwich mixto ğŸ¥ª",
                    "Pasta con verduras",
                    "Crema de calabacÃ­n",
                    "Omelette de champiÃ±ones ğŸ„",
                    "Sopa de tomate",
                    "Papas al horno con queso ğŸ§€",
                    "Ensalada CÃ©sar",
                    "Tostadas con aguacate y salmÃ³n"
                ]
            };

            const shoppingItems = {
                // Desayuno
                "Arepas con queso y jamÃ³n": ["ğŸŒ½ Harina de maÃ­z", "ğŸ§€ Queso", "ğŸ¥“ JamÃ³n"],
                "Tostadas con tomate y aceite de oliva": ["ğŸ Pan", "ğŸ… Tomates", "ğŸ«’ Aceite de oliva"],
                "Smoothie de frutas tropicales": ["ğŸŒ PlÃ¡tano", "ğŸ PiÃ±a", "ğŸ¥­ Mango", "ğŸ¥› Leche"],
                "Empanadas venezolanas": ["ğŸŒ½ Harina de maÃ­z", "ğŸ¥© Carne", "ğŸ§€ Queso"],
                "Cereal con leche": ["ğŸ¥£ Cereal", "ğŸ¥› Leche"],
                "Tortilla espaÃ±ola": ["ğŸ¥š Huevos", "ğŸ¥” Patatas", "ğŸ«’ Aceite de oliva"],
                "Pan con aguacate ğŸ¥‘": ["ğŸ Pan", "ğŸ¥‘ Aguacate"],
                "Huevos revueltos con arepas": ["ğŸ¥š Huevos", "ğŸŒ½ Harina de maÃ­z"],
                "Yogur con frutas y miel ğŸ¯": ["ğŸ¥› Yogur", "ğŸ“ Frutas", "ğŸ¯ Miel"],
                "Batido de fresas ğŸ“": ["ğŸ“ Fresas", "ğŸ¥› Leche"],
                "Pancakes con sirope de arce ğŸ¥": ["ğŸ¥ Mezcla para pancakes", "ğŸ Sirope de arce"],
                "CafÃ© con leche y tostadas â˜•": ["â˜• CafÃ©", "ğŸ¥› Leche", "ğŸ Pan"],

                // Comida
                "PabellÃ³n criollo": ["ğŸš Arroz", "ğŸ«˜ Frijoles", "ğŸ¥© Carne", "ğŸŒ PlÃ¡tano maduro"],
                "Arroz a la cubana": ["ğŸš Arroz", "ğŸ¥š Huevos", "ğŸŒ PlÃ¡tano"],
                "Pollo al horno con papas": ["ğŸ— Pollo", "ğŸ¥” Papas", "ğŸ§„ Ajo", "ğŸŒ¿ Romero"],
                "Lentejas con arroz ğŸš": ["ğŸ«˜ Lentejas", "ğŸš Arroz", "ğŸ¥• Zanahorias"],
                "Pollo guisado": ["ğŸ— Pollo", "ğŸ… Tomates", "ğŸŒ¶ï¸ Pimientos"],
                "Pasta con atÃºn": ["ğŸ Pasta", "ğŸŸ AtÃºn", "ğŸ… Salsa de tomate"],
                "Ensalada mixta ğŸ¥—": ["ğŸ¥¬ Lechuga", "ğŸ… Tomate", "ğŸ¥’ Pepino"],
                "Sancocho venezolano": ["ğŸ¥© Carne", "ğŸŒ½ MaÃ­z", "ğŸ  Yuca"],
                "FideuÃ¡ de marisco ğŸ¤": ["ğŸ Fideos", "ğŸ¤ Mariscos", "ğŸ… Tomate"],
                "Carne mechada con arroz": ["ğŸ¥© Carne", "ğŸš Arroz", "ğŸŒ¶ï¸ Pimientos"],
                "Guiso de garbanzos": ["ğŸ«˜ Garbanzos", "ğŸ¥• Zanahorias", "ğŸ… Tomate"],
                "Pescado al horno con verduras ğŸŸ": ["ğŸŸ Pescado", "ğŸ¥¦ BrÃ³coli", "ğŸ¥• Zanahorias"],

                // Merienda
                "Frutas frescas (mango, plÃ¡tano, manzana)": ["ğŸ Manzana", "ğŸŒ PlÃ¡tano", "ğŸ¥­ Mango"],
                "Nueces y almendras": ["ğŸŒ° Nueces", "ğŸŒ° Almendras"],
                "Galletas de avena": ["ğŸŒ¾ Avena", "ğŸ§ˆ Mantequilla", "ğŸ§‚ AzÃºcar"],
                "Yogur con granola": ["ğŸ¥› Yogur", "ğŸŒ¾ Granola"],
                "Tostadas con mermelada": ["ğŸ Pan", "ğŸ“ Mermelada"],
                "Arepitas dulces": ["ğŸŒ½ Harina de maÃ­z", "ğŸ§‚ AzÃºcar"],
                "Batido de frutas": ["ğŸŒ PlÃ¡tano", "ğŸ“ Fresas", "ğŸ¥› Leche"],
                "Barra de cereal": ["ğŸŒ¾ Barras de cereal"],
                "Palitos de zanahoria con hummus ğŸ¥•": ["ğŸ¥• Zanahorias", "ğŸ¥£ Hummus"],
                "Smoothie verde ğŸ": ["ğŸ¥¬ Espinaca", "ğŸ Manzana", "ğŸ¥ Kiwi"],
                "Churros con chocolate ğŸ«": ["ğŸ¥– Churros", "ğŸ« Chocolate"],
                "Queso fresco con miel": ["ğŸ§€ Queso fresco", "ğŸ¯ Miel"],

                // Cena
                "Sopa de pollo con fideos": ["ğŸ— Pollo", "ğŸœ Fideos", "ğŸ¥• Zanahoria", "ğŸŒ¿ Apio"],
                "Tortilla de patatas": ["ğŸ¥š Huevos", "ğŸ¥” Patatas", "ğŸ«’ Aceite de oliva"],
                "Arepas rellenas de pollo": ["ğŸŒ½ Harina de maÃ­z", "ğŸ— Pollo"],
                "Ensalada de atÃºn": ["ğŸŸ AtÃºn", "ğŸ¥¬ Lechuga", "ğŸ… Tomate"],
                "Sandwich mixto ğŸ¥ª": ["ğŸ Pan", "ğŸ¥“ JamÃ³n", "ğŸ§€ Queso"],
                "Pasta con verduras": ["ğŸ Pasta", "ğŸ¥¦ BrÃ³coli", "ğŸ¥• Zanahoria"],
                "Crema de calabacÃ­n": ["ğŸ¥’ CalabacÃ­n", "ğŸ§… Cebolla", "ğŸ¥” Patata", "ğŸ«’ Aceite"],
                "Omelette de champiÃ±ones ğŸ„": ["ğŸ¥š Huevos", "ğŸ„ ChampiÃ±ones"],
                "Sopa de tomate": ["ğŸ… Tomates", "ğŸ§… Cebolla", "ğŸ§„ Ajo"],
                "Papas al horno con queso ğŸ§€": ["ğŸ¥” Papas", "ğŸ§€ Queso"],
                "Ensalada CÃ©sar": ["ğŸ¥¬ Lechuga", "ğŸ— Pollo", "ğŸ§€ Queso parmesano"],
                "Tostadas con aguacate y salmÃ³n": ["ğŸ Pan", "ğŸ¥‘ Aguacate", "ğŸŸ SalmÃ³n ahumado"]
            };

            const menuTable = document.getElementById("menuTable");
            const generateBtn = document.getElementById("generateBtn");
            const clearBtn = document.getElementById("clearBtn");
            const printBtn = document.getElementById("printBtn");
            const shoppingList = document.getElementById("shoppingList");

            // FunciÃ³n para ajustar la altura automÃ¡ticamente segÃºn el contenido
            function adjustTextareaHeight(textarea) {
                textarea.style.height = 'auto';
                textarea.style.height = `${textarea.scrollHeight}px`;
            }

            function getRandomSuggestion(type) {
                let availableSuggestions = [...suggestions[type]];
                let randomSuggestions = [];
                for (let i = 0; i < 7; i++) {
                    if (availableSuggestions.length < 2) {
                        availableSuggestions = [...suggestions[type]];
                    }
                    const randomIndex1 = Math.floor(Math.random() * availableSuggestions.length);
                    const suggestion1 = availableSuggestions.splice(randomIndex1, 1)[0];
                    const randomIndex2 = Math.floor(Math.random() * availableSuggestions.length);
                    const suggestion2 = availableSuggestions.splice(randomIndex2, 1)[0];
                    randomSuggestions.push(`${suggestion1} / ${suggestion2}`);
                }
                return randomSuggestions;
            }

            function updateShoppingList(selectedDishes) {
                const itemsMap = new Map();
                selectedDishes.forEach(dish => {
                    if (shoppingItems[dish]) {
                        shoppingItems[dish].forEach(item => {
                            itemsMap.set(item, item);
                        });
                    }
                });
                shoppingList.innerHTML = '';
                itemsMap.forEach(item => {
                    const div = document.createElement('div');
                    div.classList.add('shopping-item');
                    div.innerHTML = `<input type="checkbox">${item}`;
                    shoppingList.appendChild(div);
                });
            }

            generateBtn.addEventListener("click", () => {
                const rows = ["desayuno", "comida", "merienda", "cena"];
                const days = 7;
                let selectedDishes = [];
                rows.forEach((row, rowIndex) => {
                    const randomSuggestions = getRandomSuggestion(row);
                    for (let i = 0; i < days; i++) {
                        const dish = randomSuggestions[i];
                        const textarea = menuTable.rows[rowIndex].cells[i + 1].querySelector("textarea");
                        textarea.value = dish;
                        adjustTextareaHeight(textarea); // Ajustar altura segÃºn el contenido
                        selectedDishes = selectedDishes.concat(dish.split(' / '));
                    }
                });
                updateShoppingList(selectedDishes);
            });

            clearBtn.addEventListener("click", () => {
                const textareas = document.querySelectorAll("textarea");
                textareas.forEach(textarea => {
                    textarea.value = "";
                    adjustTextareaHeight(textarea);
                });
                shoppingList.innerHTML = "";
            });

            printBtn.addEventListener("click", () => {
                window.print();
            });

            // Ajustar la altura de los textarea al cargar la pÃ¡gina
            document.addEventListener("DOMContentLoaded", () => {
                const textareas = document.querySelectorAll("textarea");
                textareas.forEach(textarea => adjustTextareaHeight(textarea));
            });
        </script>
    </div>
</body>
</html>
